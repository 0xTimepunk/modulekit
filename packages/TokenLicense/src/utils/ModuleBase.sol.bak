// SPDX-License-Identifier: MIT
pragma solidity ^0.8.20;

import "./interfaces/ILicenseRegistry.sol";

contract LicensedModuleBase {
    ILicenseRegistry public immutable LICENSE_MANAGER;

    constructor(ILicenseRegistry _lm) {
        LICENSE_MANAGER = _lm;
    }

    modifier onlyLicense(address account) {
        if (LICENSE_MANAGER.hasActiveLicense(account, address(this))) {
            _;
        }
    }

    function _validLicenseUntil(address account) internal view returns (uint48) {
        return LICENSE_MANAGER.licenseUntil(account, address(this));
    }
}
